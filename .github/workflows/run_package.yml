name: Build Tarball

on:
  workflow_call: {}

jobs:
  launcher-bundle:
    name: ZIP ðŸ“¦
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Download tarball ðŸ“¥
        uses: actions/download-artifact@v4
        with:
          name: tarball

      - name: Download launcher binaries ðŸ“¥
        uses: actions/download-artifact@v4
        with:
          name: launcher-bin
          path: Launcher/Launcher/

      - name: Bundle tarball with launcher ðŸ“¦
        run: |
          Copy-Item nixos.wsl Launcher\Launcher\pkg\

      - name: Upload Launcher ðŸ“¤
        uses: actions/upload-artifact@v4
        with:
          name: launcher-bundle
          path: Launcher/Launcher/pkg
