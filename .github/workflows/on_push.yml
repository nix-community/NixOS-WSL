name: "Push"

on:
  push:
    branches: [main]
  pull_request: {}

jobs:
  build:
    name: Build ğŸ› ï¸
    uses: ./.github/workflows/run_build.yml

  package:
    name: Package ğŸ“¦
    uses: ./.github/workflows/run_package.yml
    needs:
      - build
    secrets:
      APPX_SIGNING_CERT: ${{ secrets.APPX_SIGNING_CERT }}
      CERT_ALGORITHM: ${{ secrets.CERT_ALGORITHM }}

  checks:
    name: Checks ğŸ“‹
    uses: ./.github/workflows/run_checks.yml

  tests:
    name: Tests ğŸ§ª
    uses: ./.github/workflows/run_tests.yml
    needs:
      - build

  docs:
    name: Docs ğŸ“•
    uses: ./.github/workflows/run_docs.yml
